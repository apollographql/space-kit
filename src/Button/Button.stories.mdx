import { Button } from "./Button";
import { Tooltip } from "../Tooltip";
import { SpaceKitProvider } from "../SpaceKitProvider";
import { Meta, Story, ArgsTable, Canvas } from "@storybook/addon-docs/blocks";
import { IconExpandList } from "../icons/IconExpandList";
import { IconShip2 } from "../icons/IconShip2";
import { ButtonLayout } from "./button.stories/ButtonLayout";
import { colors } from "../colors";

export const ExpandIcon = () => (
  <IconExpandList style={{ height: 12, width: 12, color: colors.grey.light }} />
);

export const SampleIcon = () => (
  <IconShip2 style={{ height: "100%", width: "100%" }} />
);

<Meta title="Components/Button" component={Button} />

# Button

**Buttons** are the one of the most common way users interact with our interface and expose the most common actions they can take within our product.

## Sizes

There are three different sizes of buttons, with the most common button being the default size. Small and large buttons are available for specific settings.

<Canvas>
  <Story inline name="default size">
    <Button>Rest click</Button>
  </Story>
  <Story inline name="default size icon">
    <Button icon={<SampleIcon />} />
  </Story>
  <Story inline name="small">
    <Button size="small">Rest</Button>
  </Story>
  <Story inline name="small icon">
    <Button size="small" icon={<SampleIcon />} />
  </Story>
  <Story inline name="large">
    <Button size="large">Rest</Button>
  </Story>
  <Story inline name="large icon">
    <Button size="large" icon={<SampleIcon />} />
  </Story>
</Canvas>

## Colors

The states for our buttons are formulaic. You pass a `color` (from the Space Kit palette) and a `theme` (light or dark) and the button states will be automatically configured to show hover states, borders, focus borders, and disabled state.

<Canvas>
  <Story inline name="color">
    <div style={{ display: "flex", justifyContent: "space-between" }}>
      <Button>Default</Button>
      <Button color={colors.white}>White</Button>
      <Button color={colors.indigo.dark}>Indigo</Button>
      <Button color={colors.red.base}>Red</Button>
      <Button color={colors.green.base}>Green</Button>
      <Button color={colors.blue.base}>Blue</Button>
    </div>
  </Story>
</Canvas>

## Buttons and States

The states for our buttons are formulaic. You pass a `color` (from the Space Kit palette) and a `theme` (light or dark) and the button states will be automatically configured to show hover states, borders, focus borders, and disabled state.

### Light Theme

Light themed buttons have a border. The hover state is a shade darker than the rest color.

<Canvas>
  <Story inline name="button states light">
    <div
      style={{
        display: "flex",
        justifyContent: "space-between",
      }}
    >
      <SpaceKitProvider theme="light">
        <ButtonLayout>
          <Button>Rest</Button>
          <Button data-force-hover-state="true">Hover</Button>
          <Button data-force-active-state="true">Active</Button>
          <Button data-force-focus-state="true">Focused</Button>
          <Button disabled>Disabled</Button>
        </ButtonLayout>
        <ButtonLayout>
          <Button color={colors.indigo.dark}>Rest</Button>
          <Button color={colors.indigo.dark} data-force-hover-state="true">
            Hover
          </Button>
          <Button color={colors.indigo.dark} data-force-active-state="true">
            Active
          </Button>
          <Button color={colors.indigo.dark} data-force-focus-state="true">
            Focused
          </Button>
          <Button color={colors.indigo.dark} disabled>
            Disabled
          </Button>
        </ButtonLayout>
        <ButtonLayout>
          <Button color={colors.green.base}>Rest</Button>
          <Button color={colors.green.base} data-force-hover-state="true">
            Hover
          </Button>
          <Button color={colors.green.base} data-force-active-state="true">
            Active
          </Button>
          <Button color={colors.green.base} data-force-focus-state="true">
            Focused
          </Button>
          <Button color={colors.green.base} disabled>
            Disabled
          </Button>
        </ButtonLayout>
        <ButtonLayout>
          <Button color={colors.red.base}>Rest</Button>
          <Button color={colors.red.base} data-force-hover-state="true">
            Hover
          </Button>
          <Button color={colors.red.base} data-force-active-state="true">
            Active
          </Button>
          <Button color={colors.red.base} data-force-focus-state="true">
            Focused
          </Button>
          <Button color={colors.red.base} disabled>
            Disabled
          </Button>
        </ButtonLayout>
        <ButtonLayout>
          <Button color={colors.blue.base}>Rest</Button>
          <Button color={colors.blue.base} data-force-hover-state="true">
            Hover
          </Button>
          <Button color={colors.blue.base} data-force-active-state="true">
            Active
          </Button>
          <Button color={colors.blue.base} data-force-focus-state="true">
            Focused
          </Button>
          <Button color={colors.blue.base} disabled>
            Disabled
          </Button>
        </ButtonLayout>
      </SpaceKitProvider>
    </div>
  </Story>
</Canvas>

### Dark Theme

For dark themed buttons, the borders are completely removed to make the colors look sharper on the background. The focus state border is same color as the button and reduced to it's lighest shade.

<Canvas>
  <Story inline name="button states dark">
    <div
      style={{
        display: "flex",
        justifyContent: "space-between",
      }}
    >
      <SpaceKitProvider theme="dark">
        <ButtonLayout>
          <Button>Rest</Button>
          <Button data-force-hover-state="true">Hover</Button>
          <Button data-force-active-state="true">Active</Button>
          <Button data-force-focus-state="true">Focused</Button>
          <Button disabled>Disabled</Button>
        </ButtonLayout>
        <ButtonLayout>
          <Button color={colors.indigo.dark}>sweet</Button>
          <Button color={colors.indigo.dark} data-force-hover-state="true">
            Hover
          </Button>
          <Button color={colors.indigo.dark} data-force-active-state="true">
            Active
          </Button>
          <Button color={colors.indigo.dark} data-force-focus-state="true">
            Focused
          </Button>
          <Button color={colors.indigo.dark} disabled>
            Disabled
          </Button>
        </ButtonLayout>
        <ButtonLayout>
          <Button color={colors.green.base}>Rest</Button>
          <Button color={colors.green.base} data-force-hover-state="true">
            Hover
          </Button>
          <Button color={colors.green.base} data-force-active-state="true">
            Active
          </Button>
          <Button color={colors.green.base} data-force-focus-state="true">
            Focused
          </Button>
          <Button color={colors.green.base} disabled>
            Disabled
          </Button>
        </ButtonLayout>
        <ButtonLayout>
          <Button color={colors.red.base}>Rest</Button>
          <Button color={colors.red.base} data-force-hover-state="true">
            Hover
          </Button>
          <Button color={colors.red.base} data-force-active-state="true">
            Active
          </Button>
          <Button color={colors.red.base} data-force-focus-state="true">
            Focused
          </Button>
          <Button color={colors.red.base} disabled>
            Disabled
          </Button>
        </ButtonLayout>
        <ButtonLayout>
          <Button color={colors.blue.base}>Rest</Button>
          <Button color={colors.blue.base} data-force-hover-state="true">
            Hover
          </Button>
          <Button color={colors.blue.base} data-force-active-state="true">
            Active
          </Button>
          <Button color={colors.blue.base} data-force-focus-state="true">
            Focused
          </Button>
          <Button color={colors.blue.base} disabled>
            Disabled
          </Button>
        </ButtonLayout>
      </SpaceKitProvider>
    </div>
  </Story>
</Canvas>

## `as`

Specify the element used to render the button with the `as` prop. The default is `<button />`.

All props added to the `as` element will be merged with the props added by the `Button` component. `classNames`, `styles`, and `css` will be intelligently merged.

<Canvas>
  <Story name="as a">
    <div style={{ display: "flex", justifyContent: "space-between" }}>
      <Button as={<a href="google.com" />}>Default</Button>
      <Button color={colors.white} as={<a href="google.com" />}>
        White
      </Button>
      <Button color={colors.indigo.dark} as={<a href="google.com" />}>
        Indigo
      </Button>
      <Button color={colors.red.base} as={<a href="google.com" />}>
        Red
      </Button>
      <Button color={colors.green.base} as={<a href="google.com" />}>
        Green
      </Button>
      <Button color={colors.blue.base} as={<a href="google.com" />}>
        Blue
      </Button>
    </div>
  </Story>
</Canvas>

## Icon Buttons

Icon buttons are a good way to communicate more information about the buttonâ€™s action.

### Buttons with icons

Pass a `React.ReactElement` to the `icon` prop alongside `children` to render an icon to the left of a button.

<Canvas>
  <Story inline name="light with icon">
    <ButtonLayout theme="light">
      <Button icon={<SampleIcon />}>Rest</Button>
    </ButtonLayout>
  </Story>
  <Story inline name="dark with icon">
    <ButtonLayout theme="dark">
      <Button theme="dark" icon={<SampleIcon />}>
        Rest
      </Button>
    </ButtonLayout>
  </Story>
</Canvas>

### Icons only

Pass a `React.ReactElement` to the `icon` prop and no `children` to render an icon-only button.

<Canvas>
  <Story inline name="light icon-only">
    <ButtonLayout theme="light">
      <Button icon={<SampleIcon />} />
    </ButtonLayout>
  </Story>
  <Story inline name="dark icon-only">
    <ButtonLayout theme="dark">
      <Button theme="dark" icon={<SampleIcon />} />
    </ButtonLayout>
  </Story>
</Canvas>

### Floating Action Buttons

In space constrained places or for floating action buttons (FAB), we can show an icon in button form.

<Canvas>
  <Story inline name="light fab">
    <ButtonLayout theme="light">
      <Button icon={<SampleIcon />} variant="fab" />
    </ButtonLayout>
  </Story>
  <Story inline name="dark fab">
    <ButtonLayout theme="dark">
      <Button theme="dark" icon={<SampleIcon />} variant="fab" />
    </ButtonLayout>
  </Story>
</Canvas>

### End Icons

You can specify that a button has an additional icon at the end of the row. This will be assumed to be a menu selector and will change the button's right padding.

<Canvas>
  <Story name="light end icon">
    <ButtonLayout theme="light">
      <Button endIcon={<ExpandIcon />}>Submit</Button>
    </ButtonLayout>
  </Story>
  <Story name="dark end icon">
    <ButtonLayout theme="dark">
      <Button theme="dark" endIcon={<ExpandIcon />}>
        Submit
      </Button>
    </ButtonLayout>
  </Story>
</Canvas>

### Loading

You can specify that a button is in a loading state with the `loading` prop

<Canvas>
  <Story name="light loading">
    <ButtonLayout theme="light">
      <Button loading>Submit</Button>
    </ButtonLayout>
  </Story>
  <Story name="dark loading">
    <ButtonLayout theme="dark">
      <Button loading theme="dark">
        Submit
      </Button>
    </ButtonLayout>
  </Story>
</Canvas>

## Flat Buttons

As the name implies, the flat button is a simpler approach on the standard buttons. It provides a lot of flexibility many buttons side-by-side and doesnâ€™t clutter the interface as much as a standard button.

### Basic Flat Button

Showing how we could potentially use color with the simple button.

<Canvas>
  <Story inline name="flat">
    <div style={{ display: "flex", justifyContent: "space-evenly" }}>
      <ButtonLayout theme="light">
        <Button feel="flat" theme="light">
          Rest
        </Button>
      </ButtonLayout>
      <ButtonLayout theme="dark">
        <Button feel="flat" theme="dark">
          Rest
        </Button>
      </ButtonLayout>
    </div>
  </Story>
</Canvas>

<Canvas>
  <Story inline name="flat all states">
    <div style={{ display: "flex", justifyContent: "space-evenly" }}>
      <ButtonLayout theme="light">
        <Button feel="flat" theme="light">
          Rest
        </Button>
        <Button feel="flat" theme="light" data-force-hover-state="true">
          Hover
        </Button>
        <Button feel="flat" theme="light" data-force-active-state="true">
          Active
        </Button>
        <Button feel="flat" theme="light" data-force-focus-state="true">
          Focused
        </Button>
        <Button feel="flat" theme="light" disabled>
          Disabled
        </Button>
      </ButtonLayout>
      <ButtonLayout theme="dark">
        <Button feel="flat" theme="dark">
          Rest
        </Button>
        <Button feel="flat" theme="dark" data-force-hover-state="true">
          Hover
        </Button>
        <Button feel="flat" theme="dark" data-force-active-state="true">
          Active
        </Button>
        <Button feel="flat" theme="dark" data-force-focus-state="true">
          Focused
        </Button>
        <Button feel="flat" theme="dark" disabled>
          Disabled
        </Button>
      </ButtonLayout>
    </div>
  </Story>
</Canvas>

### Flat Color Button

Showing how we could potentially use color with the simple button.

<Canvas>
  <Story inline name="flat color">
    <div style={{ display: "flex", justifyContent: "space-evenly" }}>
      <ButtonLayout theme="light">
        <Button color={colors.blue.base} feel="flat" theme="light">
          Rest
        </Button>
      </ButtonLayout>
      <ButtonLayout theme="dark">
        <Button color={colors.blue.base} feel="flat" theme="dark">
          Rest
        </Button>
      </ButtonLayout>
    </div>
  </Story>
</Canvas>

<Canvas>
  <Story inline name="flat color all states">
    <div style={{ display: "flex", justifyContent: "space-evenly" }}>
      <ButtonLayout theme="light">
        <Button color={colors.blue.base} feel="flat" theme="light">
          Rest
        </Button>
        <Button
          color={colors.blue.base}
          feel="flat"
          theme="light"
          data-force-hover-state="true"
        >
          Hover
        </Button>
        <Button
          color={colors.blue.base}
          feel="flat"
          theme="light"
          data-force-active-state="true"
        >
          Active
        </Button>
        <Button
          color={colors.blue.base}
          feel="flat"
          theme="light"
          data-force-focus-state="true"
        >
          Focused
        </Button>
        <Button color={colors.blue.base} feel="flat" theme="light" disabled>
          Disabled
        </Button>
      </ButtonLayout>
      <ButtonLayout theme="dark">
        <Button color={colors.blue.base} feel="flat" theme="dark">
          Rest
        </Button>
        <Button
          color={colors.blue.base}
          feel="flat"
          theme="dark"
          data-force-hover-state="true"
        >
          Hover
        </Button>
        <Button
          color={colors.blue.base}
          feel="flat"
          theme="dark"
          data-force-active-state="true"
        >
          Active
        </Button>
        <Button
          color={colors.blue.base}
          feel="flat"
          theme="dark"
          data-force-focus-state="true"
        >
          Focused
        </Button>
        <Button color={colors.blue.base} feel="flat" theme="dark" disabled>
          Disabled
        </Button>
      </ButtonLayout>
    </div>
  </Story>
</Canvas>

### Flat Color Button with Icon

Showing how we could potentially use color with the simple button.

<Canvas>
  <Story inline name="flat icon color">
    <div style={{ display: "flex", justifyContent: "space-evenly" }}>
      <ButtonLayout theme="light">
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="light"
        >
          Rest
        </Button>
      </ButtonLayout>
      <ButtonLayout theme="dark">
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="dark"
        >
          Rest
        </Button>
      </ButtonLayout>
    </div>
  </Story>
</Canvas>

<Canvas>
  <Story inline name="flat color icon all states">
    <div style={{ display: "flex", justifyContent: "space-evenly" }}>
      <ButtonLayout theme="light">
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="light"
        >
          Rest
        </Button>
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="light"
          data-force-hover-state="true"
        >
          Hover
        </Button>
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="light"
          data-force-active-state="true"
        >
          Active
        </Button>
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="light"
          data-force-focus-state="true"
        >
          Focused
        </Button>
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="light"
          disabled
        >
          Disabled
        </Button>
      </ButtonLayout>
      <ButtonLayout theme="dark">
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="dark"
        >
          Rest
        </Button>
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="dark"
          data-force-hover-state="true"
        >
          Hover
        </Button>
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="dark"
          data-force-active-state="true"
        >
          Active
        </Button>
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="dark"
          data-force-focus-state="true"
        >
          Focused
        </Button>
        <Button
          icon={<SampleIcon />}
          color={colors.blue.base}
          feel="flat"
          theme="dark"
          disabled
        >
          Disabled
        </Button>
      </ButtonLayout>
    </div>
  </Story>
</Canvas>

### Disabled Buttons

Disabled buttons wrapped with a `Tooltip` will behave slightly differently to enable the `Tooltip` to be displayed. The only user-facing behavior change will be that the `disabled` prop will not be rendered in the DOM when the tooltip is visible.

<Story name="disabled with tooltip">
  <style>{`
    .mt-4 { margin-top: 1rem }
  `}</style>
  <Tooltip content="tooltip">
    <Button className="mt-4" disabled>
      Button
    </Button>
  </Tooltip>
</Story>

<Story name="enabled with tooltip">
  <style>{`
    .mt-4 { margin-top: 1rem }
  `}</style>
  <Tooltip content="tooltip">
    <Button className="mt-4">Button</Button>
  </Tooltip>
</Story>

## Props

This component extends `HTMLElement` so that most props you'd want to pass to any element can be passed to this component.

<ArgsTable of={Button} />

## Special Cases

These stories are intended for Chromatic and aren't intended for documentation.

<Story name="long wrap">
  <div style={{ width: 100 }}>
    <Button>
      I am some really long text that will be wrapped if we don&apos;t set this
      up correctly
    </Button>
  </div>
</Story>

<Story name="aria-expanded=true raised">
  <Button aria-expanded="true">Button</Button>
</Story>

<Story name="aria-expanded=true flat">
  <Button aria-expanded="true" feel="flat">
    Button
  </Button>
</Story>
